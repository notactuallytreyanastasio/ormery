<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TodoApp - Lists</title>
    <link rel="stylesheet" th:href="@{/retro.css}">
</head>
<body>

<!-- Mac System 6 Menu Bar -->
<div class="mac-menubar">
    <span class="apple-logo">&#63743;</span>
    <span class="menu-item app-name">TodoApp</span>
    <span class="menu-item">File</span>
    <span class="menu-item">Edit</span>
    <span class="menu-item">Help</span>
</div>

<!-- Desktop -->
<div class="desktop">
    <div class="win95-window">
        <!-- Title Bar -->
        <div class="win95-titlebar">
            <span class="title-text">My Todo Lists</span>
            <div class="win95-titlebar-buttons">
                <button class="win95-titlebar-btn">_</button>
                <button class="win95-titlebar-btn">&#9633;</button>
                <button class="win95-titlebar-btn">X</button>
            </div>
        </div>

        <!-- Toolbar: New List Form -->
        <div class="win95-toolbar">
            <form th:action="@{/lists}" method="post" style="display:flex; gap:4px; width:100%; align-items:center;">
                <input type="text" name="name" placeholder="New list name..." class="win95-input" required>
                <button type="submit" class="win95-btn primary">New List</button>
            </form>
        </div>

        <!-- Body -->
        <div class="win95-body">
            <div class="win95-sunken" style="min-height:200px; max-height:400px;">
                <!-- Empty State -->
                <div th:if="${#lists.isEmpty(lists)}" style="padding:20px; text-align:center; color:#808080;">
                    No lists yet. Create one above!
                </div>

                <!-- Lists -->
                <div th:each="list : ${lists}" class="todo-item">
                    <a th:href="@{/lists/{id}(id=${list.id})}" class="todo-text"
                       style="text-decoration:none; color:inherit; cursor:pointer;">
                        <span th:text="${list.name}">List Name</span>
                        <span style="color:#808080; font-size:13px;"
                              th:text="'(' + ${list.completedCount} + '/' + ${list.totalCount} + ' done)'">
                        </span>
                    </a>
                    <div class="todo-actions">
                        <a th:href="@{/lists/{id}(id=${list.id})}" class="win95-btn" style="text-decoration:none;">Open</a>
                        <form th:action="@{/lists/{id}/delete(id=${list.id})}" method="post" style="display:inline;"
                              onsubmit="return confirm('Delete this list and all its todos?');">
                            <button type="submit" class="win95-btn danger">Del</button>
                        </form>
                    </div>
                </div>
            </div>
        </div>

        <!-- Status Bar -->
        <div class="win95-statusbar">
            <div class="status-section">
                <span th:text="${#lists.size(lists)} + ' list(s)'">0 list(s)</span>
            </div>
            <div class="status-section">
                Spring Boot + ORMery + SQLite
            </div>
        </div>
    </div>
</div>

</body>
</html>
